App.Views.Tools=Backbone.View.extend({events:{"click nav.tools-menu li":"toggleTool"},toggleTool:function(e){var t;"string"==typeof e?t=this.$('nav.tools-menu li[data-tool="'+e+'"]'):e=(t=$(e.currentTarget)).data("tool"),this.$("nav.tools-menu li").removeClass("active"),this.$(".card.tool").hide(),this.$(".card.tool-"+e).show(),localStorage.setItem("selectedTool",e),t.addClass("active")},initialize:function(){this.colorPicker=new App.Views.Tool.ColorPicker({el:this.$(".card.tool-color-picker")}),this.boxShadow=new App.Views.Tool.BoxShadow({el:this.$(".card.tool-box-shadow")}),this.textShadow=new App.Views.Tool.TextShadow({el:this.$(".card.tool-text-shadow")}),this.transition=new App.Views.Tool.Transition({el:this.$(".card.tool-transition")}),this.flexbox=new App.Views.Tool.Flexbox({el:this.$(".card.tool-flexbox")}),this.borderRadius=new App.Views.Tool.BorderRadius({el:this.$(".card.tool-border-radius")}),this.$el.hasClass("editor-modal")||this.toggleTool(localStorage.getItem("selectedTool")||"color-picker")}}),App.Views.Tool={},App.Views.Tool.Base=Backbone.View.extend({showCopiedPopover:function(){var e=this.$copy.popover("show");setTimeout(function(){e.popover("hide")},1500)},initialize:function(){this.$code=this.$("textarea.result-code"),this.$copy=this.$("button.copy-code"),this.$copy.popover({trigger:"manual"}),this.$demo=this.$(".demo"),new Clipboard(this.$copy.get(0))},events:function(){return{"input input":"change","change select":"change","click button.copy-code":"showCopiedPopover"}},change:function(){var e=App.Templates(this.codeTemplate)(this.data());this.$code.html(e).attr("rows",e.split("\n").length),this.setClipboardText(e),this.styleTemplate&&this.$("#demo").html(App.Templates(this.styleTemplate)({code:e}))},setClipboardText:function(e){this.$copy.attr("data-clipboard-text",e).prop("disabled",!1)},data:function(){var e={};return this.$el.find("select[name], input[name]").each(function(){e[$(this).attr("name")]=$(this).val()}),e}}),App.Views.Tool.Flexbox=App.Views.Tool.Base.extend({initialize:function(){this._super(),this.lorem="Lorem ipsum dolor sit amet enim Etiam ullamcorper Suspendisse a pellentesque dui non felis",this.stack=[],this.$items=this.$(".demo.flex-container"),this.addElement()},events:function(){return $.extend({"click .add-element":"addElement"},this._super())},codeTemplate:"flexboxCode",styleTemplate:"flexboxStyle",addElement:function(){this.stack.length<1&&(this.stack=this.lorem.split(" ")),$(App.Templates("flexItem")({text:this.stack.shift()})).appendTo(this.$items)}}),App.Views.Tool.BorderRadius=App.Views.Tool.Base.extend({codeTemplate:"borderRadiusCode",styleTemplate:"borderRadiusStyle"}),App.Views.Tool.Transition=App.Views.Tool.Base.extend({change:function(){clearInterval(this.transitionInterval),this._super();var e=this.$demo.toggleClass("transition"),t=this.$('[name="duration"]').val(),o=parseInt(t,10)*("ms"==t.slice(-2)?1:1e3)*2;this.transitionInterval=setInterval(function(){e.toggleClass("transition")},o)},codeTemplate:"transitionCode",styleTemplate:"transitionStyle"}),App.Views.Tool.BoxShadow=App.Views.Tool.Base.extend({codeTemplate:"boxShadowCode",styleTemplate:"boxShadowStyle"}),App.Views.Tool.TextShadow=App.Views.Tool.Base.extend({codeTemplate:"textShadowCode",styleTemplate:"textShadowStyle"}),App.Views.Tool.ColorPicker=App.Views.Tool.Base.extend({initialize:function(){this._super();var e=this,t=100,o="";this.$el.hasClass("tool-color-picker-big")&&(t=300,o="colorpicker-3x");var i={saturation:{maxLeft:t,maxTop:t,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:t,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:t,callLeft:!1,callTop:"setAlpha"}};this.$color=this.$("#color").colorpicker({customClass:o,sliders:i}).on("changeColor.colorpicker",function(t){var o=t.color.toRGB();o=o.a<1?"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")":t.color.toHex(),e.color=o,e.change()})},data:function(){return{color:this.color}},codeTemplate:"colorPickerCode"});