!function(t){if("function"==typeof define&&define.amd)define([],t);else if("object"==typeof module){var n=module.exports=t();n.HashMap=n}else this.HashMap=t()}(function(){function t(t){switch(this.clear(),arguments.length){case 0:break;case 1:this.copy(t);break;default:e(this,arguments)}}var n=t.prototype={constructor:t,get:function(t){var n=this._data[this.hash(t)];return n&&n[1]},set:function(t,n){var e=this.hash(t);e in this._data||this._count++,this._data[e]=[t,n]},multi:function(){e(this,arguments)},copy:function(t){for(var n in t._data)n in this._data||this._count++,this._data[n]=t._data[n]},has:function(t){return this.hash(t)in this._data},search:function(t){for(var n in this._data)if(this._data[n][1]===t)return this._data[n][0];return null},remove:function(t){var n=this.hash(t);n in this._data&&(this._count--,delete this._data[n])},type:function(t){var n=Object.prototype.toString.call(t).slice(8,-1).toLowerCase();return"domwindow"!==n||t?n:t+""},keys:function(){var t=[];return this.forEach(function(n,e){t.push(e)}),t},values:function(){var t=[];return this.forEach(function(n){t.push(n)}),t},count:function(){return this._count},clear:function(){this._data={},this._count=0},clone:function(){return new t(this)},hash:function(n){switch(this.type(n)){case"undefined":case"null":case"boolean":case"number":case"regexp":return n+"";case"date":return"♣"+n.getTime();case"string":return"♠"+n;case"array":for(var e=[],a=0;a<n.length;a++)e[a]=this.hash(n[a]);return"♥"+e.join("⁞");default:return n.hasOwnProperty("_hmuid_")||(n._hmuid_=++t.uid,i=n,r="_hmuid_",Object.defineProperty&&Object.defineProperty(i,r,{enumerable:!1})),"♦"+n._hmuid_}var i,r},forEach:function(t,n){for(var e in this._data){var a=this._data[e];t.call(n||this,a[1],a[0])}}};function e(t,n){for(var e=0;e<n.length;e+=2)t.set(n[e],n[e+1])}return t.uid=0,["set","multi","copy","remove","clear","forEach"].forEach(function(t){var e=n[t];n[t]=function(){return e.apply(this,arguments),this}}),t});